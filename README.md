# NGS Agent Server

这是一个由大型语言模型（LLM）驱动的生物信息学 Agent，能够通过自然语言指令执行复杂的基因组学分析流程。

## 依赖

- Docker

## 快速启动

本项目使用 `docker run` 命令进行启动，以保证环境的纯净和配置的透明。

### 步骤 1: 准备配置文件

在您第一次启动项目前，需要创建一个 `.env` 文件来存放您的 API 密钥。

1.  复制模板文件：
    ```bash
    cp .env.example .env
    ```

2.  编辑新创建的 `.env` 文件，填入您的真实 API 密钥和模型信息。

### 步骤 2: 构建 Docker 镜像

在项目根目录运行以下命令，构建 Agent 服务所需的 Docker 镜像。

```bash
docker build -t ngs-agent-server .
```

### 步骤 3: 运行容器

使用以下命令来启动 Agent 服务器。这条命令已经包含了所有必要的配置，包括端口映射、文件挂载和**文件权限修复**。

**请直接复制并运行下面的整条命令：**

```bash
docker run --rm -d \
  --name ngs-agent-server \
  -p 48001:48001 \
  -v "$(pwd)":/app \
  -u "$(id -u)" \
  ngs-agent-server
```

### 命令详解

- `--rm`: 容器停止后自动删除，保持系统干净。
- `-d`: **后台运行模式**。容器将在后台启动，不会占据您的终端。
- `--name`: 为容器指定一个固定的名字。
- `-p 8001:8001`: 将您本机的 8001 端口映射到容器的 8001 端口。
- `-v "$(pwd)":/app`: 将当前整个项目目录挂载到容器的 `/app` 目录。这使得 Python 程序能直接读取到您的 `.env` 文件，并实现代码和数据的实时同步。
- `-u "$(id -u)"`: **(关键)** 这是解决文件权限问题的核心。它让容器内的进程以您当前宿主机用户的ID运行，确保所有新创建的文件都归属于您，而不是 `root`。这同时避免了 `groups` 相关的警告。

## 管理后台容器

当容器在后台运行时，您可以使用以下命令来管理它：

- **查看实时日志**:
  ```bash
  docker logs -f ngs-agent-server
  ```

- **停止容器**:
  ```bash
  docker stop ngs-agent-server
  ```

## 如何访问

服务启动后，您可以访问 `http://localhost:8001` 来查看服务器状态，或通过支持 OpenAI 接口的客户端（如 CherryStudio）连接到此地址进行交互。
